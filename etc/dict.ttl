# A sample/starting data dictionary
# the dictionary is toolset/implementation-specific, ie it describes things 
# that the toolset can handle, and has information used by the toolset

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .

# declare myself and set a prefix:
@base <https://raw.githubusercontent.com/NERSC/LogSet/master/> .
@prefix logset: <etc/logset#> .
@prefix : <etc/dict#> .

:timeStampedLogFile   a logset:LogFormatType .
:sqlite3              a logset:LogFormatType .
:filePerTimepoint     a logset:LogFormatType .
:unstructuredFile     a logset:LogFormatType .
:binaryFile           a logset:LogFormatType .
:unknownLogFormat     a logset:LogFormatType .

#:logFormat owl:oneOf(:timeStampedLogFile :filePerTimepoint :unstructured :sqlite3 :binary) .
logset:logFormat owl:oneOf (:timeStampedLogFile :unstructuredFile) .

# annotations are a kind of log of their own, and can be related to other LogSets
:annotationDB
    a logset:LogSeries ;
    logset:logFormat :sqlite3 ;
    # would the schema count as logFormatInfo ?
    .

:console_logfile
    a logset:LogSeries ;
    rdfs:comment ''' a console logfile is timestamped-line-per-entry, generally 
                     named like "console-20170131" and looks like:
  2017-09-06T15:20:21.827169-07:00 corismw1 craylog: message type: console, connected to port: 5150
  2017-09-06T15:20:21.827236-07:00 corismw1 craylog: testing connectivity
  2017-09-06T15:20:22.075706-07:00 corismw1 starting
  2017-09-06T15:22:42.809249-07:00 c2-0c0s0n1 Wait4Boot: Blade Controller Boot Protocol version - 1
  2017-09-06T15:22:42.809276-07:00 c2-0c0s0n1 Wait4Boot: EXIT ---> PXE Boot
                 ''' ;
    logset:logFormat :timeStampedLogFile ;
    logset:logFormatInfo "filepattern=console-<dateYYYYMMDD>" ;
    logset:logFormatInfo "filepattern=console" ;
    logset:logFormatInfo "ts_word=0" ;
    logset:logFormatInfo "part_word=1" ;
    .

:messages_logfile
    a logset:LogSeries ;
    logset:logFormat :timeStampedLogFile ;
    logset:logFormatInfo "filepattern=messages-<dateYYYYMMDD>" ;
    logset:logFormatInfo "filepattern=messages" ;
    logset:logFormatInfo "ts_word=1" ;
    logset:logFormatInfo "part_word=2" ;
    .

:consumer_logfile
    a logset:LogSeries ;
    logset:logFormat :unstructuredFile ; # actually it has structure, but too complex initially
    logset:logFormatInfo "filepattern=consumer-<dateYYYYMMDD>" ;
    logset:logFormatInfo "filepattern=consumer" ;
    .


